(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fba198c"],{"2d82":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("\n      添加\n    ")]),e._v(" "),a("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},on:{change:function(t){e.tableKey=e.tableKey+1}},model:{value:e.showDesc,callback:function(t){e.showDesc=t},expression:"showDesc"}},[e._v("\n      描述\n    ")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,attrs:{data:e.machineCategoryList,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95",type:"index"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.Name))])]}}])}),e._v(" "),e.showDesc?a("el-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.Desc))])]}}],null,!1,2723231799)}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdate(i)}}},[e._v("\n          修改\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.deleteMachineCategory(i)}}},[e._v("\n          删除\n        ")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-class"},[a("el-pagination",{attrs:{background:!0,"current-page":e.queryParams.Page,"page-size":e.queryParams.Limit,layout:"total, prev, pager, next, jumper",total:e.listTotal},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"Name"}},[a("el-input",{attrs:{disabled:"update"==e.dialogStatus},model:{value:e.temp.Name,callback:function(t){e.$set(e.temp,"Name",t)},expression:"temp.Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"Desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.temp.Desc,callback:function(t){e.$set(e.temp,"Desc",t)},expression:"temp.Desc"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        取消\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createMachineCategory():e.updateMachineCategory()}}},[e._v("\n        提交\n      ")])],1)],1)],1)},n=[],s=a("6724"),o=a("2fea"),l={directives:{waves:s["waves"]},data:function(){return{listLoading:!1,machineCategoryList:void 0,listTotal:void 0,tableKey:0,showDesc:!0,temp:this.newMachineCategoryInfo(),queryParams:{Page:1,Limit:20},deleteParams:{Id:void 0},dialogFormVisible:!1,textMap:{create:"创建分类",update:"修改分类"},dialogStatus:"create",rules:{Name:[{required:!0,message:"分类名称是必填项"}]}}},created:function(){this.fetchMachineCategoryList()},methods:{fetchMachineCategoryList:function(){var e=this;this.listLoading=!0,Object(o["c"])(this.queryParams).then(function(t){e.machineCategoryList=t.Data.Items,e.listTotal=t.Data.Total,e.listLoading=!1})},handleCreate:function(){var e=this;this.temp=this.newMachineCategoryInfo(),this.dialogFormVisible=!0,this.dialogStatus="create",this.$nextTick(function(){e.$refs["dataForm"].clearValidate()})},handleUpdate:function(e){var t=this;this.temp.Id=e.Id,this.temp.Name=e.Name,this.temp.Desc=e.Desc,this.dialogFormVisible=!0,this.dialogStatus="update",this.$nextTick(function(){t.$refs["dataForm"].clearValidate()})},createMachineCategory:function(){var e=this;this.$refs["dataForm"].validate(function(t){t&&(Object(o["a"])(e.temp).then(function(t){e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),e.fetchMachineCategoryList()}),e.dialogFormVisible=!1)})},updateMachineCategory:function(){var e=this;this.$refs["dataForm"].validate(function(t){t&&(Object(o["d"])(e.temp).then(function(t){e.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),e.fetchMachineCategoryList()}),e.dialogFormVisible=!1)})},deleteMachineCategory:function(e){var t=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteParams.Id=e.Id,Object(o["b"])(t.deleteParams).then(function(e){t.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),t.fetchMachineCategoryList()})})},handleCurrentChange:function(e){this.queryParams.Page=e,this.fetchMachineCategoryList()},newMachineCategoryInfo:function(){return{Id:0,Name:"",Desc:""}}}},r=l,c=a("2877"),u=Object(c["a"])(r,i,n,!1,null,null,null);t["default"]=u.exports},"2fea":function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"a",function(){return s}),a.d(t,"d",function(){return o}),a.d(t,"b",function(){return l});var i=a("b775");function n(e){return Object(i["a"])({url:"/machine_category/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/machine_category/store",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/machine_category/update",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/machine_category/delete",method:"post",data:e})}},6724:function(e,t,a){"use strict";a("8d41");var i="@@wavesContext";function n(e,t){function a(a){var i=Object.assign({},t.value),n=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),s=n.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var o=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(o.width,o.height)+"px",s.appendChild(l)),n.type){case"center":l.style.top=o.height/2-l.offsetHeight/2+"px",l.style.left=o.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-o.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-o.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=n.color,l.className="waves-ripple z-active",!1}}return e[i]?e[i].removeHandle=a:e[i]={removeHandle:a},a}var s={bind:function(e,t){e.addEventListener("click",n(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[i].removeHandle,!1),e.addEventListener("click",n(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[i].removeHandle,!1),e[i]=null,delete e[i]}},o=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o},"8d41":function(e,t,a){}}]);